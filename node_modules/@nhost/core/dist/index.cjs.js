"use strict";var me=Object.defineProperty;var Ee=(r,e,t)=>e in r?me(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var y=(r,e,t)=>(Ee(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const l=require("xstate"),ge=require("axios"),pe=require("js-cookie"),B=r=>r&&typeof r=="object"&&"default"in r?r:{default:r},Te=B(ge),K=B(pe);function we(r){return new TextEncoder().encode(r)}function v(r){const e=new Uint8Array(r);let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function W(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4,s=e.padEnd(e.length+t,"="),n=atob(s),i=new ArrayBuffer(n.length),u=new Uint8Array(i);for(let f=0;f<n.length;f++)u[f]=n.charCodeAt(f);return i}function z(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function Q(r){const{id:e}=r;return{...r,id:W(e),transports:r.transports}}function X(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}class g extends Error{constructor(e,t="WebAuthnError"){super(e),this.name=t}}function Re({error:r,options:e}){var t,s;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal===new AbortController().signal)return new g("Registration ceremony was sent an abort signal","AbortError")}else if(r.name==="ConstraintError"){if(((t=n.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new g("Discoverable credentials were required but no available authenticator supported it","ConstraintError");if(((s=n.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new g("User verification was required but no available authenticator supported it","ConstraintError")}else{if(r.name==="InvalidStateError")return new g("The authenticator was previously registered","InvalidStateError");if(r.name==="NotAllowedError")return new g("User clicked cancel, or the registration ceremony timed out","NotAllowedError");if(r.name==="NotSupportedError")return n.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new g('No entry in pubKeyCredParams was of type "public-key"',"NotSupportedError"):new g("No available authenticator supported any of the specified pubKeyCredParams algorithms","NotSupportedError");if(r.name==="SecurityError"){const i=window.location.hostname;if(X(i)){if(n.rp.id!==i)return new g(`The RP ID "${n.rp.id}" is invalid for this domain`,"SecurityError")}else return new g(`${window.location.hostname} is an invalid domain`,"SecurityError")}else if(r.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new g("User ID was not between 1 and 64 characters","TypeError")}else if(r.name==="UnknownError")return new g("The authenticator was unable to process the specified options, or could not create a new credential","UnknownError")}return r}class Se{createNewAbortSignal(){return this.controller&&this.controller.abort(),this.controller=new AbortController,this.controller.signal}reset(){this.controller=void 0}}const M=new Se;async function J(r){if(!z())throw new Error("WebAuthn is not supported in this browser");const t={publicKey:{...r,challenge:W(r.challenge),user:{...r.user,id:we(r.user.id)},excludeCredentials:r.excludeCredentials.map(Q)}};t.signal=M.createNewAbortSignal();let s;try{s=await navigator.credentials.create(t)}catch(p){throw Re({error:p,options:t})}finally{M.reset()}if(!s)throw new Error("Registration was not completed");const{id:n,rawId:i,response:u,type:f}=s,E={id:n,rawId:v(i),response:{attestationObject:v(u.attestationObject),clientDataJSON:v(u.clientDataJSON)},type:f,clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:s.authenticatorAttachment};return typeof u.getTransports=="function"&&(E.transports=u.getTransports()),E}function Ie(r){return new TextDecoder("utf-8").decode(r)}async function _e(){if(navigator.credentials.conditionalMediationSupported)return!0;const r=window.PublicKeyCredential;return r.isConditionalMediationAvailable!==void 0&&r.isConditionalMediationAvailable()}function ye({error:r,options:e}){var t;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal===new AbortController().signal)return new g("Authentication ceremony was sent an abort signal","AbortError")}else{if(r.name==="NotAllowedError")return!((t=s.allowCredentials)===null||t===void 0)&&t.length?new g("No available authenticator recognized any of the allowed credentials","NotAllowedError"):new g("User clicked cancel, or the authentication ceremony timed out","NotAllowedError");if(r.name==="SecurityError"){const n=window.location.hostname;if(X(n)){if(s.rpId!==n)return new g(`The RP ID "${s.rpId}" is invalid for this domain`,"SecurityError")}else return new g(`${window.location.hostname} is an invalid domain`,"SecurityError")}else if(r.name==="UnknownError")return new g("The authenticator was unable to process the specified options, or could not create a new assertion signature","UnknownError")}return r}async function Ae(r,e=!1){var t,s;if(!z())throw new Error("WebAuthn is not supported in this browser");let n;((t=r.allowCredentials)===null||t===void 0?void 0:t.length)!==0&&(n=(s=r.allowCredentials)===null||s===void 0?void 0:s.map(Q));const i={...r,challenge:W(r.challenge),allowCredentials:n},u={};if(e){if(!await _e())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete*='webauthn']").length<1)throw Error('No <input> with `"webauthn"` in its `autocomplete` attribute was detected');u.mediation="conditional",i.allowCredentials=[]}u.publicKey=i,u.signal=M.createNewAbortSignal();let f;try{f=await navigator.credentials.get(u)}catch(o){throw ye({error:o,options:u})}finally{M.reset()}if(!f)throw new Error("Authentication was not completed");const{id:E,rawId:p,response:m,type:I}=f;let h;return m.userHandle&&(h=Ie(m.userHandle)),{id:E,rawId:v(p),response:{authenticatorData:v(m.authenticatorData),clientDataJSON:v(m.clientDataJSON),signature:v(m.signature),userHandle:h},type:I,clientExtensionResults:f.getClientExtensionResults(),authenticatorAttachment:f.authenticatorAttachment}}const P="nhostRefreshToken",N="nhostRefreshTokenExpiresAt",Z=3,ee=300,re=5,F=0,H=1,w=10,O=20;class C extends Error{constructor(t){super(t.message);y(this,"error");Error.captureStackTrace(this,this.constructor),t instanceof Error?(this.name=t.name,this.error={error:t.name,status:H,message:t.message}):(this.name=t.error,this.error=t)}}const _={status:w,error:"invalid-email",message:"Email is incorrectly formatted"},se={status:w,error:"invalid-mfa-type",message:"MFA type is invalid"},te={status:w,error:"invalid-mfa-code",message:"MFA code is invalid"},x={status:w,error:"invalid-password",message:"Password is incorrectly formatted"},L={status:w,error:"invalid-phone-number",message:"Phone number is incorrectly formatted"},ne={status:w,error:"invalid-mfa-ticket",message:"MFA ticket is invalid"},ie={status:w,error:"no-mfa-ticket",message:"No MFA ticket has been provided"},ve={status:w,error:"no-refresh-token",message:"No refresh token has been provided"},ke={status:O,error:"refresher-already-running",message:"The token refresher is already running. You must wait until is has finished before submitting a new token."},S={status:O,error:"already-signed-in",message:"User is already signed in"},oe={status:O,error:"unauthenticated-user",message:"User is not authenticated"},Oe={status:O,error:"user-not-anonymous",message:"User is not anonymous"},Pe={status:O,error:"unverified-user",message:"Email needs verification"},Ne={status:w,error:"invalid-refresh-token",message:"Invalid or expired refresh token"},be={status:H,error:"invalid-sign-in-method",message:"Invalid sign-in method"},k=r=>{const e=Te.default.create({baseURL:r});return e.interceptors.response.use(t=>t,t=>{var s,n,i,u,f,E,p,m,I,h,o,a;return Promise.reject({error:{message:(f=(u=(i=(n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)!=null?i:t.message)!=null?u:t.request.responseText)!=null?f:JSON.stringify(t),status:(h=(I=(E=t.response)==null?void 0:E.status)!=null?I:(m=(p=t.response)==null?void 0:p.data)==null?void 0:m.statusCode)!=null?h:F,error:((a=(o=t.response)==null?void 0:o.data)==null?void 0:a.error)||t.request.statusText||"network"}})}),e},U=typeof window<"u",D=new Map,Ce=r=>{var e;return U&&typeof localStorage<"u"?localStorage.getItem(r):(e=D.get(r))!=null?e:null},De=(r,e)=>{U&&typeof localStorage<"u"?e?localStorage.setItem(r,e):localStorage.removeItem(r):e?D.set(r,e):D.has(r)&&D.delete(r)},ae=(r,e)=>{if(r==="localStorage"||r==="web")return Ce;if(r==="cookie")return t=>{var s;return U&&(s=K.default.get(t))!=null?s:null};if(!e)throw Error(`clientStorageType is set to '${r}' but no clientStorage has been given`);if(r==="react-native")return t=>{var s;return(s=e.getItem)==null?void 0:s.call(e,t)};if(r==="capacitor")return t=>{var s;return(s=e.get)==null?void 0:s.call(e,{key:t})};if(r==="expo-secure-storage")return t=>{var s;return(s=e.getItemAsync)==null?void 0:s.call(e,t)};if(r==="custom"){if(e.getItem&&e.removeItem)return e.getItem;if(e.getItemAsync)return e.getItemAsync;throw Error(`clientStorageType is set to 'custom' but clientStorage is missing either "getItem" and "removeItem" properties or "getItemAsync" property`)}throw Error(`Unknown storage type: ${r}`)},ce=(r,e)=>{if(r==="localStorage"||r==="web")return De;if(r==="cookie")return(t,s)=>{U&&(s?K.default.set(t,s,{expires:30,sameSite:"lax",httpOnly:!1}):K.default.remove(t))};if(!e)throw Error(`clientStorageType is set to '${r}' but no clienStorage has been given`);if(r==="react-native")return(t,s)=>{var n,i;return s?(n=e.setItem)==null?void 0:n.call(e,t,s):(i=e.removeItem)==null?void 0:i.call(e,t)};if(r==="capacitor")return(t,s)=>{var n,i;return s?(n=e.set)==null?void 0:n.call(e,{key:t,value:s}):(i=e.remove)==null?void 0:i.call(e,{key:t})};if(r==="expo-secure-storage")return async(t,s)=>{var n,i;return s?(n=e.setItemAsync)==null?void 0:n.call(e,t,s):(i=e.deleteItemAsync)==null?void 0:i.call(e,t)};if(r==="custom"){if(!e.removeItem)throw Error("clientStorageType is set to 'custom' but clientStorage is missing a removeItem property");if(e.setItem)return(t,s)=>{var n,i;return s?(n=e.setItem)==null?void 0:n.call(e,t,s):(i=e.removeItem)==null?void 0:i.call(e,t)};if(e.setItemAsync)return async(t,s)=>{var n,i;return s?(n=e.setItemAsync)==null?void 0:n.call(e,t,s):(i=e.removeItem)==null?void 0:i.call(e,t)};throw Error("clientStorageType is set to 'custom' but clientStorage is missing setItem or setItemAsync property")}throw Error(`Unknown storage type: ${r}`)},ue=(r,e)=>{const t=e&&Object.entries(e).map(([s,n])=>{const i=Array.isArray(n)?n.join(","):typeof n=="object"?JSON.stringify(n):n;return`${s}=${encodeURIComponent(i)}`}).join("&");return t?`${r}?${t}`:r},R=(r,e)=>{if(!(e!=null&&e.redirectTo))return e;const{redirectTo:t,...s}=e;if(!r)return t.startsWith("/")?s:e;const n=new URL(r),i=Object.fromEntries(new URLSearchParams(n.search)),u=new URL(t.startsWith("/")?n.origin+t:t),f=new URLSearchParams(u.search);let E=Object.fromEntries(f);t.startsWith("/")&&(E={...i,...E});let p=n.pathname;return u.pathname.length>1&&(p+=u.pathname.slice(1)),{...s,redirectTo:ue(u.origin+p,E)}};function b(r,e){var n;if(!e){if(typeof window>"u")return;e=((n=window.location)==null?void 0:n.href)||""}r=r.replace(/[\[\]]/g,"\\$&");const t=new RegExp("[?&#]"+r+"(=([^&#]*)|&|#|$)"),s=t.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}function G(r){var t;if(typeof window>"u")return;const e=window==null?void 0:window.location;if(!!e&&e){const s=new URLSearchParams(e.search),n=new URLSearchParams((t=e.hash)==null?void 0:t.slice(1));s.delete(r),n.delete(r);let i=window.location.pathname;Array.from(s).length&&(i+=`?${s.toString()}`),Array.from(n).length&&(i+=`#${n.toString()}`),window.history.pushState({},"",i)}}const A=r=>!!r&&typeof r=="string"&&!!String(r).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),q=r=>!!r&&typeof r=="string"&&r.length>=Z,$=r=>!!r&&typeof r=="string",Me=r=>r&&typeof r=="string"&&r.match(/^mfaTotp:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),V={user:null,mfa:null,accessToken:{value:null,expiresAt:null},refreshTimer:{startedAt:null,attempts:0,lastAttempt:null},refreshToken:{value:null},importTokenAttempts:0,errors:{}},xe=({backendUrl:r,clientUrl:e,interpreter:t})=>{const s=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changeEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:n=>_}),saveRequestError:l.assign({error:(n,{data:{error:i}})=>i}),reportError:l.send(n=>({type:"ERROR",error:n.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(n,{email:i})=>!A(i)},services:{requestChange:async(n,{email:i,options:u})=>(await s.post("/user/email/change",{newEmail:i,options:R(e,u)},{headers:{authorization:`Bearer ${t==null?void 0:t.getSnapshot().context.accessToken.value}`}})).data}})},Ue=({backendUrl:r,interpreter:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidPassword",actions:"saveInvalidPasswordError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidPasswordError:l.assign({error:s=>x}),saveRequestError:l.assign({error:(s,{data:{error:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidPassword:(s,{password:n})=>!q(n)},services:{requestChange:(s,{password:n,ticket:i})=>t.post("/user/password",{newPassword:n,ticket:i},{headers:{authorization:`Bearer ${e==null?void 0:e.getSnapshot().context.accessToken.value}`}})}})},Ve=({backendUrl:r,interpreter:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{}},tsTypes:{},predictableActionArguments:!0,id:"enableMfa",initial:"idle",context:{error:null,imageUrl:null,secret:null},states:{idle:{initial:"initial",on:{GENERATE:"generating"},states:{initial:{},error:{}}},generating:{invoke:{src:"generate",id:"generate",onDone:{target:"generated",actions:["reportGeneratedSuccess","saveGeneration"]},onError:{actions:["saveError","reportGeneratedError"],target:"idle.error"}}},generated:{initial:"idle",states:{idle:{initial:"idle",on:{ACTIVATE:[{cond:"invalidMfaType",actions:"saveInvalidMfaTypeError",target:".error"},{cond:"invalidMfaCode",actions:"saveInvalidMfaCodeError",target:".error"},{target:"activating"}]},states:{idle:{},error:{}}},activating:{invoke:{src:"activate",id:"activate",onDone:{target:"activated",actions:"reportSuccess"},onError:{actions:["saveError","reportError"],target:"idle.error"}}},activated:{type:"final"}}}}},{actions:{saveInvalidMfaTypeError:l.assign({error:s=>se}),saveInvalidMfaCodeError:l.assign({error:s=>te}),saveError:l.assign({error:(s,{data:{error:n}})=>n}),saveGeneration:l.assign({imageUrl:(s,{data:{imageUrl:n}})=>n,secret:(s,{data:{totpSecret:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS"),reportGeneratedSuccess:l.send("GENERATED"),reportGeneratedError:l.send(s=>({type:"GENERATED_ERROR",error:s.error}))},guards:{invalidMfaCode:(s,{code:n})=>!n,invalidMfaType:(s,{activeMfaType:n})=>!n||n!=="totp"},services:{generate:async s=>{const{data:n}=await t.get("/mfa/totp/generate",{headers:{authorization:`Bearer ${e==null?void 0:e.getSnapshot().context.accessToken.value}`}});return n},activate:(s,{code:n,activeMfaType:i})=>t.post("/user/mfa",{code:n,activeMfaType:i},{headers:{authorization:`Bearer ${e==null?void 0:e.getSnapshot().context.accessToken.value}`}})}})},Ke=({backendUrl:r,clientUrl:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:s=>_}),saveRequestError:l.assign({error:(s,{data:{error:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(s,{email:n})=>!A(n)},services:{requestChange:(s,{email:n,options:i})=>t.post("/user/password/reset",{email:n,options:R(e,i)})}})},Le=({backendUrl:r,clientUrl:e})=>{const t=k(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"sendVerificationEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"request",id:"request",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:s=>_}),saveRequestError:l.assign({error:(s,{data:{error:n}})=>n}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(s,{email:n})=>!A(n)},services:{request:async(s,{email:n,options:i})=>(await t.post("/user/email/send-verification-email",{email:n,options:R(e,i)})).data}})},le=({backendUrl:r,clientUrl:e,clientStorageGetter:t,clientStorageSetter:s,clientStorageType:n="web",clientStorage:i,refreshIntervalTime:u,autoRefreshToken:f=!0,autoSignIn:E=!0})=>{const p=t||ae(n,i),m=s||ce(n,i),I=k(r),h=async(o,a,c)=>(await I.post(o,a,c)).data;return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},context:V,predictableActionArguments:!0,id:"nhost",type:"parallel",states:{authentication:{initial:"starting",on:{SESSION_UPDATE:[{cond:"hasSession",actions:["saveSession","resetTimer","reportTokenChanged"],target:".signedIn"}]},states:{starting:{tags:["loading"],always:{cond:"isSignedIn",target:"signedIn"},invoke:{id:"importRefreshToken",src:"importRefreshToken",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"signedIn"},{target:"signedOut"}],onError:[{cond:"shouldRetryImportToken",actions:"incrementTokenImportAttempts",target:"retryTokenImport"},{actions:["saveAuthenticationError"],target:"signedOut"}]}},retryTokenImport:{tags:["loading"],after:{RETRY_IMPORT_TOKEN_DELAY:"starting"}},signedOut:{initial:"noErrors",entry:"reportSignedOut",states:{noErrors:{},success:{},needsSmsOtp:{},needsMfa:{},failed:{},signingOut:{entry:["clearContextExceptRefreshToken"],exit:["destroyRefreshToken","reportTokenChanged"],invoke:{src:"signout",id:"signingOut",onDone:{target:"success"},onError:{target:"failed",actions:["saveAuthenticationError"]}}}},on:{SIGNIN_PASSWORD:"authenticating.password",SIGNIN_ANONYMOUS:"authenticating.anonymous",SIGNIN_SECURITY_KEY_EMAIL:"authenticating.securityKeyEmail",SIGNIN_MFA_TOTP:"authenticating.mfa.totp"}},authenticating:{entry:"resetErrors",states:{password:{invoke:{src:"signInPassword",id:"authenticateUserWithPassword",onDone:[{cond:"hasMfaTicket",actions:["saveMfaTicket"],target:"#nhost.authentication.signedOut.needsMfa"},{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"}],onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}},anonymous:{invoke:{src:"signInAnonymous",id:"authenticateAnonymously",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}}},mfa:{states:{totp:{invoke:{src:"signInMfaTotp",id:"signInMfaTotp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:["saveAuthenticationError"],target:"#nhost.authentication.signedOut.failed"}}}}},securityKeyEmail:{invoke:{src:"signInSecurityKeyEmail",id:"authenticateUserWithSecurityKey",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}}}},signedIn:{type:"parallel",entry:["reportSignedIn","cleanUrl","broadcastToken","resetErrors"],on:{SIGNOUT:"signedOut.signingOut"},states:{refreshTimer:{id:"timer",initial:"idle",states:{disabled:{type:"final"},stopped:{always:{cond:"noToken",target:"idle"}},idle:{always:[{cond:"isAutoRefreshDisabled",target:"disabled"},{cond:"hasRefreshToken",target:"running"}]},running:{initial:"pending",entry:"resetTimer",states:{pending:{after:{1e3:{internal:!1,target:"pending"}},always:{cond:"refreshTimerShouldRefresh",target:"refreshing"}},refreshing:{invoke:{src:"refreshToken",id:"refreshToken",onDone:{actions:["saveSession","resetTimer","reportTokenChanged"],target:"pending"},onError:[{actions:"saveRefreshAttempt",target:"pending"}]}}}}}}}}}},token:{initial:"idle",states:{idle:{on:{TRY_TOKEN:"running"},initial:"noErrors",states:{noErrors:{},error:{}}},running:{invoke:{src:"refreshToken",id:"authenticateWithToken",onDone:{actions:["saveSession","reportTokenChanged"],target:["#nhost.authentication.signedIn","idle.noErrors"]},onError:[{cond:"isSignedIn",target:"idle.error"},{actions:"saveAuthenticationError",target:["#nhost.authentication.signedOut.failed","idle.error"]}]}}}},registration:{initial:"incomplete",on:{SIGNED_IN:[{cond:"isAnonymous",target:".incomplete"},".complete"]},states:{incomplete:{on:{SIGNUP_EMAIL_PASSWORD:"emailPassword",SIGNUP_SECURITY_KEY:"securityKey",PASSWORDLESS_EMAIL:"passwordlessEmail",PASSWORDLESS_SMS:"passwordlessSms",PASSWORDLESS_SMS_OTP:"passwordlessSmsOtp"},initial:"noErrors",states:{noErrors:{},needsEmailVerification:{},needsOtp:{},failed:{}}},emailPassword:{entry:["resetErrors"],invoke:{src:"signUpEmailPassword",id:"signUpEmailPassword",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},securityKey:{entry:["resetErrors"],invoke:{src:"signUpSecurityKey",id:"signUpSecurityKey",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},passwordlessEmail:{entry:["resetErrors"],invoke:{src:"passwordlessEmail",id:"passwordlessEmail",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSms:{entry:["resetErrors"],invoke:{src:"passwordlessSms",id:"passwordlessSms",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsOtp"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSmsOtp:{entry:["resetErrors"],invoke:{src:"passwordlessSmsOtp",id:"passwordlessSmsOtp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},complete:{on:{SIGNED_OUT:"incomplete"}}}}}},{actions:{reportSignedIn:l.send("SIGNED_IN"),reportSignedOut:l.send("SIGNED_OUT"),reportTokenChanged:l.send("TOKEN_CHANGED"),incrementTokenImportAttempts:l.assign({importTokenAttempts:({importTokenAttempts:o})=>o+1}),clearContext:l.assign(()=>(m(N,null),m(P,null),{...V})),clearContextExceptRefreshToken:l.assign(({refreshToken:{value:o}})=>(m(N,null),{...V,refreshToken:{value:o}})),saveSession:l.assign({user:(o,{data:a})=>{var c;return((c=a==null?void 0:a.session)==null?void 0:c.user)||null},accessToken:(o,{data:a})=>{if(a.session){const{accessTokenExpiresIn:c,accessToken:d}=a.session,T=new Date(Date.now()+c*1e3);return m(N,T.toISOString()),{value:d,expiresAt:T}}return m(N,null),{value:null,expiresAt:null}},refreshToken:(o,{data:a})=>{var d;const c=((d=a.session)==null?void 0:d.refreshToken)||null;return c&&m(P,c),{value:c}}}),saveMfaTicket:l.assign({mfa:(o,a)=>{var c;return(c=a.data)==null?void 0:c.mfa}}),resetTimer:l.assign({refreshTimer:o=>({startedAt:new Date,attempts:0,lastAttempt:null})}),saveRefreshAttempt:l.assign({refreshTimer:(o,a)=>({startedAt:o.refreshTimer.startedAt,attempts:o.refreshTimer.attempts+1,lastAttempt:new Date})}),saveAuthenticationError:l.assign({errors:({errors:o},{data:{error:a}})=>({...o,authentication:a})}),resetErrors:l.assign({errors:o=>({}),importTokenAttempts:o=>0}),saveRegistrationError:l.assign({errors:({errors:o},{data:{error:a}})=>({...o,registration:a})}),destroyRefreshToken:l.assign({refreshToken:o=>(m(P,null),{value:null})}),cleanUrl:()=>{E&&b("refreshToken")&&(G("refreshToken"),G("type"))},broadcastToken:o=>{if(E)try{new BroadcastChannel("nhost").postMessage(o.refreshToken.value)}catch{}}},guards:{isAnonymous:(o,a)=>{var c;return!!((c=o.user)!=null&&c.isAnonymous)},isSignedIn:o=>!!o.user&&!!o.refreshToken.value&&!!o.accessToken.value,noToken:o=>!o.refreshToken.value,hasRefreshToken:o=>!!o.refreshToken.value,isAutoRefreshDisabled:()=>!f,refreshTimerShouldRefresh:o=>{const{expiresAt:a}=o.accessToken;return a?o.refreshTimer.lastAttempt?Date.now()-o.refreshTimer.lastAttempt.getTime()>re*1e3:u&&Date.now()-o.refreshTimer.startedAt.getTime()>u*1e3?!0:a.getTime()-Date.now()-1e3*ee<=0:!1},shouldRetryImportToken:(o,a)=>a.data.error.status===F||a.data.error.status>=500,unverified:(o,{data:{error:a}})=>a.status===401&&(a.message==="Email is not verified"||a.error==="unverified-user"),hasSession:(o,a)=>{var c;return!!((c=a.data)!=null&&c.session)},hasMfaTicket:(o,a)=>{var c;return!!((c=a.data)!=null&&c.mfa)}},services:{signInPassword:(o,{email:a,password:c})=>A(a)?q(c)?h("/signin/email-password",{email:a,password:c}):Promise.reject({error:x}):Promise.reject({error:_}),passwordlessSms:(o,{phoneNumber:a,options:c})=>{var d;return $(a)?(d=o.user)!=null&&d.isAnonymous?(console.warn("Deanonymisation from a phone number is not yet implemented in hasura-auth"),h("/user/deanonymize",{signInMethod:"passwordless",connection:"sms",phoneNumber:a,options:R(e,c)},{headers:{authorization:`Bearer ${o.accessToken.value}`}})):h("/signin/passwordless/sms",{phoneNumber:a,options:R(e,c)}):Promise.reject({error:L})},passwordlessSmsOtp:(o,{phoneNumber:a,otp:c})=>$(a)?h("/signin/passwordless/sms/otp",{phoneNumber:a,otp:c}):Promise.reject({error:L}),passwordlessEmail:(o,{email:a,options:c})=>{var d;return A(a)?(d=o.user)!=null&&d.isAnonymous?h("/user/deanonymize",{signInMethod:"passwordless",connection:"email",email:a,options:R(e,c)},{headers:{authorization:`Bearer ${o.accessToken.value}`}}):h("/signin/passwordless/email",{email:a,options:R(e,c)}):Promise.reject({error:_})},signInAnonymous:o=>h("/signin/anonymous"),signInMfaTotp:(o,a)=>{var d;const c=a.ticket||((d=o.mfa)==null?void 0:d.ticket);return c?Me(c)?h("/signin/mfa/totp",{ticket:c,otp:a.otp}):Promise.reject({error:ne}):Promise.reject({error:ie})},signInSecurityKeyEmail:async(o,{email:a})=>{if(!A(a))throw new C(_);const c=await h("/signin/webauthn",{email:a});let d;try{d=await Ae(c)}catch(T){throw new C(T)}return h("/signin/webauthn/verify",{email:a,credential:d})},refreshToken:async(o,a)=>{const c=a.type==="TRY_TOKEN"?a.token:o.refreshToken.value;return{session:await h("/token",{refreshToken:c}),error:null}},signout:(o,a)=>h("/signout",{refreshToken:o.refreshToken.value,all:!!a.all}),signUpEmailPassword:async(o,{email:a,password:c,options:d})=>{var T;return A(a)?q(c)?(T=o.user)!=null&&T.isAnonymous?h("/user/deanonymize",{signInMethod:"email-password",email:a,password:c,options:R(e,d)},{headers:{authorization:`Bearer ${o.accessToken.value}`}}):h("/signup/email-password",{email:a,password:c,options:R(e,d)}):Promise.reject({error:x}):Promise.reject({error:_})},signUpSecurityKey:async(o,{email:a,options:c})=>{if(!A(a))return Promise.reject({error:_});const d=c==null?void 0:c.nickname;d&&delete c.nickname;const T=await h("/signup/webauthn",{email:a,options:c});let Y;try{Y=await J(T)}catch(he){throw new C(he)}return h("/signup/webauthn/verify",{credential:Y,options:{redirectTo:c==null?void 0:c.redirectTo,nickname:d}})},importRefreshToken:async()=>{let o=null;if(E){const c=b("refreshToken")||null;if(c)try{return{session:await h("/token",{refreshToken:c}),error:null}}catch(d){o=d.error}else{const d=b("error");if(d)return Promise.reject({session:null,error:{status:w,error:d,message:b("errorDescription")||d}})}}const a=await p(P);if(a)try{return{session:await h("/token",{refreshToken:a}),error:null}}catch(c){o=c.error}return o?Promise.reject({error:o,session:null}):{error:null,session:null}}},delays:{RETRY_IMPORT_TOKEN_DELAY:({importTokenAttempts:o})=>o<5?1e3:5e3}})};class de{constructor({clientStorageType:e="web",autoSignIn:t=!0,autoRefreshToken:s=!0,start:n=!0,backendUrl:i,clientUrl:u,devTools:f,...E}){y(this,"backendUrl");y(this,"clientUrl");y(this,"machine");y(this,"_interpreter");y(this,"_channel");y(this,"_subscriptions",new Set);if(this.backendUrl=i,this.clientUrl=u,this.machine=le({...E,backendUrl:i,clientUrl:u,clientStorageType:e,autoSignIn:t,autoRefreshToken:s}),n&&(this.interpreter=l.interpret(this.machine,{devTools:f}),this.interpreter.start()),typeof window<"u"&&t)try{this._channel=new BroadcastChannel("nhost"),this._channel.addEventListener("message",p=>{var I;const m=(I=this.interpreter)==null?void 0:I.getSnapshot().context.refreshToken.value;this.interpreter&&p.data!==m&&this.interpreter.send("TRY_TOKEN",{token:p.data})})}catch{}}get interpreter(){return this._interpreter}set interpreter(e){this._interpreter=e,e&&this._subscriptions.forEach(t=>t(this))}onStart(e){this.interpreter?e(this):this._subscriptions.add(e)}}const j=typeof window<"u";class fe extends de{constructor({...e}){super({...e,autoSignIn:j&&e.autoSignIn,autoRefreshToken:j&&e.autoRefreshToken,clientStorageType:"cookie"})}}const Ge=fe,qe=async({backendUrl:r,interpreter:e},t)=>{const s=k(r);try{const{data:n}=await s.post("/user/webauthn/add",{},{headers:{authorization:`Bearer ${e==null?void 0:e.getSnapshot().context.accessToken.value}`}});let i;try{i=await J(n)}catch(f){throw new C(f)}const{data:u}=await s.post("/user/webauthn/verify",{credential:i,nickname:t},{headers:{authorization:`Bearer ${e==null?void 0:e.getSnapshot().context.accessToken.value}`}});return{key:u,isError:!1,error:null,isSuccess:!0}}catch(n){const{error:i}=n;return{isError:!0,error:i,isSuccess:!1}}},We=async(r,e,t)=>new Promise(s=>{r.send("REQUEST",{email:e,options:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,needsEmailVerification:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,needsEmailVerification:!0})})}),Fe=async(r,e,t)=>new Promise(s=>{r.send("REQUEST",{password:e,ticket:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,isSuccess:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,isSuccess:!0})})}),He=r=>new Promise(e=>{r.send("GENERATE"),r.onTransition(t=>{t.matches("generated")?e({error:null,isError:!1,isGenerated:!0,qrCodeDataUrl:t.context.imageUrl||""}):t.matches({idle:"error"})&&e({error:t.context.error||null,isError:!0,isGenerated:!1,qrCodeDataUrl:""})})}),Ye=(r,e)=>new Promise(t=>{r.send("ACTIVATE",{activeMfaType:"totp",code:e}),r.onTransition(s=>{s.matches({generated:"activated"})?t({error:null,isActivated:!0,isError:!1}):s.matches({generated:{idle:"error"}})&&t({error:s.context.error,isActivated:!1,isError:!0})})}),$e=async(r,e,t)=>new Promise(s=>{r.send("REQUEST",{email:e,options:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,isSent:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,isSent:!0})})}),je=(r,e,t)=>new Promise(s=>{r.send("REQUEST",{email:e,options:t}),r.onTransition(n=>{n.matches({idle:"error"})?s({error:n.context.error,isError:!0,isSent:!1}):n.matches({idle:"success"})&&s({error:null,isError:!1,isSent:!0})})}),Be=r=>new Promise(e=>{const{changed:t}=r.send("SIGNIN_ANONYMOUS");t||e({isSuccess:!1,isError:!0,error:S,user:null,accessToken:null}),r.onTransition(s=>{s.matches({authentication:"signedIn"})&&e({isSuccess:!0,isError:!1,error:null,user:s.context.user,accessToken:s.context.accessToken.value}),s.matches({authentication:{signedOut:"failed"}})&&e({isSuccess:!1,isError:!0,error:s.context.errors.authentication||null,user:null,accessToken:null})})}),ze=(r,e,t)=>new Promise(s=>{const{changed:n,context:i}=r.send("SIGNIN_PASSWORD",{email:e,password:t});if(!n)return s({accessToken:i.accessToken.value,error:S,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:i.user});r.onTransition(u=>{u.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,needsMfaOtp:!1,mfa:null,user:null}):u.matches({authentication:{signedOut:"needsMfa"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!0,mfa:u.context.mfa,user:null}):u.matches({authentication:{signedOut:"failed"}})?s({accessToken:null,error:u.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:null}):u.matches({authentication:"signedIn"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:u.context.user})})}),Qe=(r,e,t)=>new Promise(s=>{const{changed:n}=r.send("PASSWORDLESS_EMAIL",{email:e,options:t});if(!n)return s({error:S,isError:!0,isSuccess:!1});r.onTransition(i=>{i.matches("registration.incomplete.failed")?s({error:i.context.errors.registration||null,isError:!0,isSuccess:!1}):i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})&&s({error:null,isError:!1,isSuccess:!0})})}),Xe=(r,e)=>new Promise(t=>{const{changed:s,context:n}=r.send({type:"SIGNIN_SECURITY_KEY_EMAIL",email:e});if(!s)return t({accessToken:n.accessToken.value,error:S,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:n.user});r.onTransition(i=>{i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?t({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):i.matches({authentication:{signedOut:"failed"}})?t({accessToken:null,error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):i.matches({authentication:"signedIn"})&&t({accessToken:i.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:i.context.user})})}),Je=(r,e,t)=>new Promise(s=>{const{changed:n,context:i}=r.send("SIGNIN_MFA_TOTP",{otp:e,ticket:t});if(!n)return s({accessToken:i.accessToken.value,error:S,isError:!0,isSuccess:!1,user:i.user});r.onTransition(u=>{u.matches({authentication:{signedOut:"failed"}})?s({accessToken:null,error:u.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null}):u.matches({authentication:"signedIn"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,user:u.context.user})})}),Ze=(r,e,t)=>new Promise(s=>{const{changed:n}=r.send("PASSWORDLESS_SMS",{phoneNumber:e,options:t});if(!n)return s({error:S,isError:!0,isSuccess:!1,needsOtp:!1});r.onTransition(i=>{i.matches("registration.incomplete.needsOtp")?s({error:null,isError:!1,isSuccess:!1,needsOtp:!0}):i.matches("registration.incomplete.failed")&&s({error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsOtp:!1})})}),er=(r,e,t)=>new Promise(s=>{const{changed:n}=r.send({type:"PASSWORDLESS_SMS_OTP",phoneNumber:e,otp:t});if(!n)return s({error:S,isError:!0,isSuccess:!1,user:null,accessToken:null});r.onTransition(i=>{i.matches({authentication:"signedIn"})?s({error:null,isError:!1,isSuccess:!0,user:i.context.user,accessToken:i.context.accessToken.value}):i.matches({registration:{incomplete:"failed"}})&&s({error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null,accessToken:null})})}),rr=async(r,e)=>new Promise(t=>{const{event:s}=r.send("SIGNOUT",{all:e});if(s.type!=="SIGNED_OUT")return t({isSuccess:!1,isError:!0,error:oe});r.onTransition(n=>{n.matches({authentication:{signedOut:"success"}})?t({isSuccess:!0,isError:!1,error:null}):n.matches("authentication.signedOut.failed")&&t({isSuccess:!1,isError:!0,error:n.context.errors.signout||null})})}),sr=(r,e,t,s)=>new Promise(n=>{const{changed:i,context:u}=r.send("SIGNUP_EMAIL_PASSWORD",{email:e,password:t,options:s});if(!i)return n({error:S,accessToken:u.accessToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:u.user});r.onTransition(f=>{f.matches("registration.incomplete.failed")?n({accessToken:null,error:f.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):f.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?n({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):f.matches({authentication:"signedIn",registration:"complete"})&&n({accessToken:f.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:f.context.user})})}),tr=(r,e,t)=>new Promise(s=>{const{changed:n,context:i}=r.send("SIGNUP_SECURITY_KEY",{email:e,options:t});if(!n)return s({error:S,accessToken:i.accessToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:i.user});r.onTransition(u=>{u.matches("registration.incomplete.failed")?s({accessToken:null,error:u.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):u.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):u.matches({authentication:"signedIn",registration:"complete"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:u.context.user})})});exports.AuthClient=de;exports.AuthClientSSR=Ge;exports.AuthCookieClient=fe;exports.CodifiedError=C;exports.EMAIL_NEEDS_VERIFICATION=Pe;exports.INVALID_EMAIL_ERROR=_;exports.INVALID_MFA_CODE_ERROR=te;exports.INVALID_MFA_TICKET_ERROR=ne;exports.INVALID_MFA_TYPE_ERROR=se;exports.INVALID_PASSWORD_ERROR=x;exports.INVALID_PHONE_NUMBER_ERROR=L;exports.INVALID_REFRESH_TOKEN=Ne;exports.INVALID_SIGN_IN_METHOD=be;exports.MIN_PASSWORD_LENGTH=Z;exports.NETWORK_ERROR_CODE=F;exports.NHOST_JWT_EXPIRES_AT_KEY=N;exports.NHOST_REFRESH_TOKEN_KEY=P;exports.NO_MFA_TICKET_ERROR=ie;exports.NO_REFRESH_TOKEN=ve;exports.OTHER_ERROR_CODE=H;exports.REFRESH_TOKEN_RETRY_INTERVAL=re;exports.STATE_ERROR_CODE=O;exports.TOKEN_REFRESHER_RUNNING_ERROR=ke;exports.TOKEN_REFRESH_MARGIN=ee;exports.USER_ALREADY_SIGNED_IN=S;exports.USER_NOT_ANONYMOUS=Oe;exports.USER_UNAUTHENTICATED=oe;exports.VALIDATION_ERROR_CODE=w;exports.activateMfaPromise=Ye;exports.addSecurityKeyPromise=qe;exports.changeEmailPromise=We;exports.changePasswordPromise=Fe;exports.createAuthMachine=le;exports.createChangeEmailMachine=xe;exports.createChangePasswordMachine=Ue;exports.createEnableMfaMachine=Ve;exports.createResetPasswordMachine=Ke;exports.createSendVerificationEmailMachine=Le;exports.encodeQueryParameters=ue;exports.generateQrCodePromise=He;exports.getParameterByName=b;exports.localStorageGetter=ae;exports.localStorageSetter=ce;exports.removeParameterFromWindow=G;exports.resetPasswordPromise=$e;exports.rewriteRedirectTo=R;exports.sendVerificationEmailPromise=je;exports.signInAnonymousPromise=Be;exports.signInEmailPasswordPromise=ze;exports.signInEmailPasswordlessPromise=Qe;exports.signInEmailSecurityKeyPromise=Xe;exports.signInMfaTotpPromise=Je;exports.signInSmsPasswordlessOtpPromise=er;exports.signInSmsPasswordlessPromise=Ze;exports.signOutPromise=rr;exports.signUpEmailPasswordPromise=sr;exports.signUpEmailSecurityKeyPromise=tr;
//# sourceMappingURL=index.cjs.js.map
